{
  "version": 3,
  "sources": ["../../wavesurfer.js/dist/plugins/timeline.esm.js"],
  "sourcesContent": ["class t{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),null==i?void 0:i.once){const i=(...s)=>{this.un(t,i),e(...s)};return this.listeners[t].add(i),()=>this.un(t,i)}return this.listeners[t].add(e),()=>this.un(t,e)}un(t,e){var i;null===(i=this.listeners[t])||void 0===i||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class e extends t{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function i(t,e){const s=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,n]of Object.entries(e))if(\"children\"===t&&n)for(const[t,e]of Object.entries(n))e instanceof Node?s.appendChild(e):\"string\"==typeof e?s.appendChild(document.createTextNode(e)):s.appendChild(i(t,e));else\"style\"===t?Object.assign(s.style,n):\"textContent\"===t?s.textContent=n:s.setAttribute(t,n.toString());return s}function s(t,e,s){return i(t,e||{})}const n={height:20,timeOffset:0,formatTimeCallback:t=>{if(t/60>1){return`${Math.floor(t/60)}:${`${(t=Math.round(t%60))<10?\"0\":\"\"}${t}`}`}return`${Math.round(1e3*t)/1e3}`}};class r extends e{constructor(t){super(t||{}),this.unsubscribeNotches=[],this.notchElements=new Map,this.options=Object.assign({},n,t),this.timelineWrapper=this.initTimelineWrapper()}static create(t){return new r(t)}onInit(){var t;if(!this.wavesurfer)throw Error(\"WaveSurfer is not initialized\");let e=this.wavesurfer.getWrapper();if(this.options.container instanceof HTMLElement)e=this.options.container;else if(\"string\"==typeof this.options.container){const t=document.querySelector(this.options.container);if(!t)throw Error(`No Timeline container found matching ${this.options.container}`);e=t}this.options.insertPosition?(e.firstElementChild||e).insertAdjacentElement(this.options.insertPosition,this.timelineWrapper):e.appendChild(this.timelineWrapper),this.subscriptions.push(this.wavesurfer.on(\"redraw\",(()=>this.initTimeline()))),((null===(t=this.wavesurfer)||void 0===t?void 0:t.getDuration())||this.options.duration)&&this.initTimeline()}destroy(){this.unsubscribeNotches.forEach((t=>t())),this.unsubscribeNotches=[],this.timelineWrapper.remove(),super.destroy()}initTimelineWrapper(){return s(\"div\",{part:\"timeline-wrapper\",style:{pointerEvents:\"none\"}})}defaultTimeInterval(t){return t>=25?1:5*t>=25?5:15*t>=25?15:60*Math.ceil(.5/t)}defaultPrimaryLabelInterval(t){return t>=25?10:5*t>=25?6:4}defaultSecondaryLabelInterval(t){return t>=25?5:2}virtualAppend(t,e,i){if(this.notchElements.set(i,{start:t,width:i.clientWidth,wasVisible:!1}),!this.wavesurfer)return;const s=this.wavesurfer.getScroll(),n=s+this.wavesurfer.getWidth(),r=this.notchElements.get(i),o=t>=s&&t+r.width<n;r.wasVisible=o,o&&e.appendChild(i)}updateVisibleNotches(t,e,i){this.notchElements.forEach(((s,n)=>{const r=s.start>=t&&s.start+s.width<e;r!==s.wasVisible&&(s.wasVisible=r,r?i.appendChild(n):n.remove())}))}initTimeline(){var t,e,i,n,r,o,l,h;this.unsubscribeNotches.forEach((t=>t())),this.unsubscribeNotches=[],this.notchElements.clear();const a=null!==(i=null!==(e=null===(t=this.wavesurfer)||void 0===t?void 0:t.getDuration())&&void 0!==e?e:this.options.duration)&&void 0!==i?i:0,c=((null===(n=this.wavesurfer)||void 0===n?void 0:n.getWrapper().scrollWidth)||this.timelineWrapper.scrollWidth)/a,p=null!==(r=this.options.timeInterval)&&void 0!==r?r:this.defaultTimeInterval(c),u=null!==(o=this.options.primaryLabelInterval)&&void 0!==o?o:this.defaultPrimaryLabelInterval(c),d=this.options.primaryLabelSpacing,f=null!==(l=this.options.secondaryLabelInterval)&&void 0!==l?l:this.defaultSecondaryLabelInterval(c),m=this.options.secondaryLabelSpacing,b=\"beforebegin\"===this.options.insertPosition,v=s(\"div\",{style:Object.assign({height:`${this.options.height}px`,overflow:\"hidden\",fontSize:this.options.height/2+\"px\",whiteSpace:\"nowrap\"},b?{position:\"absolute\",top:\"0\",left:\"0\",right:\"0\",zIndex:\"2\"}:{position:\"relative\"})});v.setAttribute(\"part\",\"timeline\"),\"string\"==typeof this.options.style?v.setAttribute(\"style\",v.getAttribute(\"style\")+this.options.style):\"object\"==typeof this.options.style&&Object.assign(v.style,this.options.style);const y=s(\"div\",{style:{width:\"0\",height:\"50%\",display:\"flex\",flexDirection:\"column\",justifyContent:b?\"flex-start\":\"flex-end\",top:b?\"0\":\"auto\",bottom:b?\"auto\":\"0\",overflow:\"visible\",borderLeft:\"1px solid currentColor\",opacity:`${null!==(h=this.options.secondaryLabelOpacity)&&void 0!==h?h:.25}`,position:\"absolute\",zIndex:\"1\"}});for(let t=0,e=0;t<a;t+=p,e++){const i=y.cloneNode(),s=Math.round(100*t)%Math.round(100*u)==0||d&&e%d==0,n=Math.round(100*t)%Math.round(100*f)==0||m&&e%m==0;(s||n)&&(i.style.height=\"100%\",i.style.textIndent=\"3px\",i.textContent=this.options.formatTimeCallback(t),s&&(i.style.opacity=\"1\"));const r=s?\"primary\":n?\"secondary\":\"tick\";i.setAttribute(\"part\",`timeline-notch timeline-notch-${r}`);const o=Math.round(100*(t+this.options.timeOffset))/100*c;i.style.left=`${o}px`,this.virtualAppend(o,v,i)}this.timelineWrapper.innerHTML=\"\",this.timelineWrapper.appendChild(v),this.wavesurfer&&this.unsubscribeNotches.push(this.wavesurfer.on(\"scroll\",((t,e,i,s)=>{this.updateVisibleNotches(i,s,v)}))),this.emit(\"ready\")}}export{r as default};\n"],
  "mappings": "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",
  "names": ["t", "e", "i", "s", "n", "r", "o"]
}
